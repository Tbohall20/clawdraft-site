<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Clawdraft ‚Äî Mission Control</title>
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }

  :root {
    --bg: #0a0a0a;
    --surface: #111111;
    --border: #1a1a1a;
    --blue: #3b82f6;
    --green: #25d366;
    --text: #ffffff;
    --muted: #888888;
    --dim: #555;
  }

  body {
    background: #000;
    color: var(--text);
    font-family: system-ui, -apple-system, sans-serif;
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 640px;
    height: 640px;
    padding: 20px;
    overflow: hidden;
  }

  /* Outer recording wrapper ‚Äî looks like a screen recording */
  .recording-wrap {
    width: 100%;
    max-width: 900px;
    border-radius: 10px;
    overflow: hidden;
    box-shadow:
      0 0 0 1px rgba(255,255,255,0.06),
      0 40px 100px rgba(0,0,0,0.8);
    position: relative;
  }

  /* Fake OS titlebar */
  .os-titlebar {
    background: #1a1a1a;
    height: 36px;
    display: flex;
    align-items: center;
    padding: 0 14px;
    gap: 12px;
    border-bottom: 1px solid #222;
    flex-shrink: 0;
  }

  .os-dots {
    display: flex;
    gap: 6px;
  }

  .os-dot {
    width: 12px;
    height: 12px;
    border-radius: 50%;
  }
  .os-dot.red    { background: #ff5f57; }
  .os-dot.yellow { background: #ffbd2e; }
  .os-dot.green  { background: #28c840; }

  .os-title {
    flex: 1;
    text-align: center;
    font-size: 12px;
    color: var(--muted);
    font-weight: 500;
    letter-spacing: 0.3px;
    user-select: none;
  }

  .os-spacer { width: 60px; }

  /* Main app screen */
  .app-screen {
    background: var(--bg);
    display: flex;
    height: 520px;
    position: relative;
    overflow: hidden;
  }

  /* Sidebar */
  .sidebar {
    width: 200px;
    background: #0d0d0d;
    border-right: 1px solid var(--border);
    display: flex;
    flex-direction: column;
    padding: 16px 0;
    flex-shrink: 0;
  }

  .sidebar-logo {
    padding: 8px 16px 16px;
    font-size: 15px;
    font-weight: 700;
    color: var(--blue);
    letter-spacing: -0.3px;
    border-bottom: 1px solid var(--border);
    margin-bottom: 12px;
  }

  .nav-item {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 9px 16px;
    font-size: 12.5px;
    color: var(--muted);
    cursor: default;
    border-radius: 6px;
    margin: 1px 8px;
    transition: all 0.2s;
  }

  .nav-item.active {
    background: rgba(59,130,246,0.1);
    color: var(--blue);
  }

  .nav-dot {
    width: 6px;
    height: 6px;
    border-radius: 50%;
    background: currentColor;
  }

  /* Main content area */
  .main-area {
    flex: 1;
    display: flex;
    flex-direction: column;
    overflow: hidden;
    position: relative;
  }

  /* Top bar */
  .top-bar {
    padding: 14px 20px;
    border-bottom: 1px solid var(--border);
    display: flex;
    align-items: center;
    justify-content: space-between;
    flex-shrink: 0;
  }

  .top-bar-title {
    font-size: 14px;
    font-weight: 600;
    color: var(--text);
  }

  .status-badge {
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 4px 10px;
    background: rgba(37,211,102,0.1);
    border: 1px solid rgba(37,211,102,0.25);
    border-radius: 100px;
    font-size: 11px;
    font-weight: 600;
    color: var(--green);
  }

  .status-badge-dot {
    width: 6px;
    height: 6px;
    background: var(--green);
    border-radius: 50%;
    animation: pulse 2s infinite;
  }

  @keyframes pulse { 0%,100%{opacity:1} 50%{opacity:0.4} }

  /* Panel area ‚Äî stacked, toggled */
  .panel-area {
    flex: 1;
    padding: 20px;
    overflow: hidden;
    position: relative;
  }

  .sim-panel {
    position: absolute;
    inset: 20px;
    display: flex;
    flex-direction: column;
    gap: 12px;
    opacity: 0;
    transition: opacity 0.5s ease;
    pointer-events: none;
  }

  .sim-panel.active { opacity: 1; }

  /* ======== Panel 0: Dashboard ======== */
  .axiom-log {
    background: #000;
    border: 1px solid #1a1a1a;
    border-radius: 8px;
    padding: 14px;
    font-family: 'Courier New', monospace;
    font-size: 12px;
    flex: 1;
    overflow: hidden;
  }

  .log-line {
    display: flex;
    gap: 10px;
    margin-bottom: 5px;
    opacity: 0;
    transition: opacity 0.3s ease;
  }

  .log-line.show { opacity: 1; }

  .log-time { color: var(--dim); }
  .log-tag  { color: var(--blue); font-weight: 600; }
  .log-msg  { color: #a8b5c0; }
  .log-msg.green { color: var(--green); }
  .log-msg.yellow { color: #fbbf24; }

  /* ======== Panel 1: Reddit ======== */
  .reddit-sim {
    display: flex;
    flex-direction: column;
    gap: 10px;
  }

  .rsim-header {
    font-size: 11px;
    font-weight: 600;
    letter-spacing: 1.2px;
    text-transform: uppercase;
    color: var(--blue);
    padding-bottom: 10px;
    border-bottom: 1px solid var(--border);
  }

  .rsim-card {
    background: #111;
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 12px 14px;
    display: flex;
    align-items: center;
    gap: 12px;
    opacity: 0;
    transform: translateY(6px);
    transition: all 0.4s ease;
  }

  .rsim-card.appear {
    opacity: 1;
    transform: none;
  }

  .rsim-card.selected {
    border-color: var(--blue);
    background: rgba(59,130,246,0.05);
  }

  .rsim-votes {
    text-align: center;
    min-width: 36px;
  }

  .rsim-arrow { color: #555; font-size: 14px; transition: color 0.3s; }
  .rsim-card.selected .rsim-arrow { color: #ff6314; }
  .rsim-count { font-size: 11px; font-weight: 700; color: var(--muted); transition: color 0.3s; }
  .rsim-card.selected .rsim-count { color: #ff6314; }

  .rsim-text { font-size: 13px; color: var(--muted); flex: 1; }
  .rsim-card.appear .rsim-text { color: var(--text); }

  .rsim-badge {
    font-size: 10px;
    font-weight: 700;
    padding: 3px 7px;
    background: var(--blue);
    color: #fff;
    border-radius: 100px;
    opacity: 0;
    transition: opacity 0.4s 0.2s;
    white-space: nowrap;
  }
  .rsim-card.selected .rsim-badge { opacity: 1; }

  /* ======== Panel 2: Content Gen ======== */
  .cgen-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 10px;
    flex: 1;
  }

  .cgen-card {
    background: #111;
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 12px;
    display: flex;
    flex-direction: column;
    gap: 8px;
    opacity: 0;
    transition: opacity 0.3s ease;
    overflow: hidden;
  }

  .cgen-card.appear { opacity: 1; }

  .cgen-head {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 11px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.8px;
    color: var(--muted);
    padding-bottom: 8px;
    border-bottom: 1px solid var(--border);
  }

  .cgen-blink {
    display: inline-block;
    width: 8px;
    height: 8px;
    border-radius: 50%;
    animation: pulse 1s infinite;
  }

  .cgen-card.done .cgen-blink { animation: none; }

  .cgen-body {
    font-size: 11.5px;
    color: var(--muted);
    line-height: 1.6;
    overflow: hidden;
  }

  /* ======== Panel 3: WhatsApp Delivery ======== */
  .delivery-sim {
    display: flex;
    gap: 20px;
    flex: 1;
  }

  .delivery-log {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 10px;
  }

  .dlog-header {
    font-size: 11px;
    font-weight: 600;
    letter-spacing: 1.2px;
    text-transform: uppercase;
    color: var(--blue);
    padding-bottom: 10px;
    border-bottom: 1px solid var(--border);
  }

  .dlog-item {
    display: flex;
    align-items: flex-start;
    gap: 10px;
    padding: 10px 12px;
    background: #111;
    border: 1px solid var(--border);
    border-radius: 8px;
    opacity: 0;
    transform: translateY(6px);
    transition: all 0.4s ease;
  }

  .dlog-item.appear {
    opacity: 1;
    transform: none;
  }

  .dlog-icon { font-size: 18px; }
  .dlog-text { font-size: 12px; color: var(--muted); line-height: 1.5; }
  .dlog-label { font-size: 12.5px; font-weight: 600; color: var(--text); margin-bottom: 2px; }

  .mini-phone-wrap {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 160px;
    flex-shrink: 0;
  }

  .mini-phone {
    width: 140px;
    height: 280px;
    background: #1c1c1e;
    border-radius: 22px;
    box-shadow: 0 0 0 1.5px #3a3a3c, 0 16px 40px rgba(0,0,0,0.6);
    overflow: hidden;
    display: flex;
    flex-direction: column;
    opacity: 0;
    transform: scale(0.92);
    transition: opacity 0.5s ease, transform 0.5s ease;
  }

  .mini-phone.appear { opacity: 1; transform: scale(1); }

  .mp-status { background: #000; height: 20px; display: flex; align-items: center; padding: 0 10px; justify-content: space-between; font-size: 8px; color: #fff; font-weight: 600; }
  .mp-header { background: #1f2c34; padding: 6px 8px; display: flex; align-items: center; gap: 6px; }
  .mp-avatar { width: 20px; height: 20px; border-radius: 50%; background: linear-gradient(135deg, #3b82f6, #1d4ed8); display: flex; align-items: center; justify-content: center; font-size: 7px; font-weight: 700; color: #fff; }
  .mp-name { font-size: 9px; font-weight: 600; color: #e9edef; }
  .mp-chat { flex: 1; background: #0b141a; padding: 8px; display: flex; flex-direction: column; gap: 5px; }
  .mp-bubble { background: #1f2c34; border-radius: 7px 7px 7px 1px; padding: 6px 8px; font-size: 8px; color: #e9edef; line-height: 1.4; opacity: 0; transform: translateY(4px); transition: all 0.3s ease; max-width: 92%; }
  .mp-bubble.appear { opacity: 1; transform: none; }
  .mp-mini-cards { display: flex; flex-direction: column; gap: 3px; opacity: 0; transition: opacity 0.3s 0.2s; }
  .mp-mini-cards.appear { opacity: 1; }
  .mp-mini-card { background: #2a3942; border-radius: 4px; padding: 3px 5px; font-size: 7.5px; color: #e9edef; }

  /* ======== Panel 4: Summary ======== */
  .summary-panel {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 20px;
    flex: 1;
    text-align: center;
  }

  .summary-icon {
    width: 64px;
    height: 64px;
    border-radius: 50%;
    background: rgba(37,211,102,0.1);
    border: 2px solid rgba(37,211,102,0.3);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 28px;
    opacity: 0;
    transform: scale(0.8);
    transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
  }

  .summary-icon.appear { opacity: 1; transform: scale(1); }

  .summary-text {
    opacity: 0;
    transform: translateY(8px);
    transition: all 0.4s 0.2s ease;
  }

  .summary-text.appear { opacity: 1; transform: none; }

  .summary-title { font-size: 20px; font-weight: 700; margin-bottom: 8px; }
  .summary-sub { font-size: 14px; color: var(--muted); line-height: 1.6; }

  .summary-stats {
    display: flex;
    gap: 16px;
    opacity: 0;
    transition: opacity 0.4s 0.5s ease;
  }

  .summary-stats.appear { opacity: 1; }

  .stat-chip {
    padding: 8px 16px;
    background: #111;
    border: 1px solid var(--border);
    border-radius: 8px;
    font-size: 12px;
    color: var(--muted);
    text-align: center;
  }

  .stat-chip strong {
    display: block;
    font-size: 20px;
    font-weight: 700;
    color: var(--text);
    line-height: 1.2;
    margin-bottom: 2px;
  }

  /* Progress bar (fake video player) */
  .video-bar {
    background: #111;
    padding: 10px 16px;
    display: flex;
    align-items: center;
    gap: 12px;
    border-top: 1px solid var(--border);
    flex-shrink: 0;
  }

  .vb-time {
    font-size: 11px;
    color: var(--muted);
    font-variant-numeric: tabular-nums;
    min-width: 36px;
  }

  .vb-track {
    flex: 1;
    height: 3px;
    background: #222;
    border-radius: 2px;
    position: relative;
    overflow: visible;
  }

  .vb-fill {
    height: 100%;
    background: var(--blue);
    border-radius: 2px;
    width: 0%;
    transition: width linear;
  }

  .vb-thumb {
    position: absolute;
    right: -5px;
    top: -4px;
    width: 11px;
    height: 11px;
    background: #fff;
    border-radius: 50%;
    box-shadow: 0 1px 4px rgba(0,0,0,0.5);
  }

  .vb-dur { font-size: 11px; color: var(--dim); min-width: 36px; text-align: right; }

  /* Cursor */
  .cursor {
    position: absolute;
    width: 20px;
    height: 20px;
    pointer-events: none;
    z-index: 100;
    opacity: 0.85;
    transition: left 1.2s cubic-bezier(0.25, 0.46, 0.45, 0.94),
                top 1.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  }

  .cursor svg { display: block; }

  /* REC badge */
  .rec-badge {
    position: absolute;
    top: 10px;
    right: 14px;
    display: flex;
    align-items: center;
    gap: 5px;
    font-size: 10px;
    font-weight: 700;
    color: #ff4444;
    letter-spacing: 0.5px;
    z-index: 10;
    opacity: 0.8;
  }

  .rec-dot {
    width: 7px;
    height: 7px;
    background: #ff4444;
    border-radius: 50%;
    animation: recPulse 1s infinite;
  }

  @keyframes recPulse { 0%,100%{opacity:1} 50%{opacity:0.2} }
</style>
</head>
<body>

<div class="recording-wrap">

  <!-- OS Title bar -->
  <div class="os-titlebar">
    <div class="os-dots">
      <div class="os-dot red"></div>
      <div class="os-dot yellow"></div>
      <div class="os-dot green"></div>
    </div>
    <div class="os-title">Clawdraft ‚Äî Mission Control</div>
    <div class="os-spacer"></div>
  </div>

  <!-- App screen -->
  <div class="app-screen">

    <!-- REC badge -->
    <div class="rec-badge"><div class="rec-dot"></div> REC</div>

    <!-- Sidebar -->
    <div class="sidebar">
      <div class="sidebar-logo">Clawdraft ‚ú¶</div>
      <div class="nav-item active" id="nav-dashboard">
        <div class="nav-dot"></div> Dashboard
      </div>
      <div class="nav-item" id="nav-reddit">
        <div class="nav-dot"></div> Reddit Trends
      </div>
      <div class="nav-item" id="nav-content">
        <div class="nav-dot"></div> Content Gen
      </div>
      <div class="nav-item" id="nav-delivery">
        <div class="nav-dot"></div> Delivery
      </div>
      <div class="nav-item">
        <div class="nav-dot"></div> Settings
      </div>
    </div>

    <!-- Main area -->
    <div class="main-area">
      <div class="top-bar">
        <div class="top-bar-title" id="topTitle">Dashboard</div>
        <div class="status-badge">
          <div class="status-badge-dot"></div>
          Pipeline running
        </div>
      </div>

      <div class="panel-area">

        <!-- Panel 0: Dashboard / Axiom Logs -->
        <div class="sim-panel active" id="sp0">
          <div style="font-size:12px; color:var(--muted); margin-bottom:4px">Axiom Live Logs ‚Äî <span style="color:var(--blue)">jordan-blake-run-weekly</span></div>
          <div class="axiom-log" id="axiomLog">
            <div class="log-line" id="ll0">
              <span class="log-time">08:00:01</span>
              <span class="log-tag">[INIT]</span>
              <span class="log-msg">Starting weekly content run for Jordan Blake</span>
            </div>
            <div class="log-line" id="ll1">
              <span class="log-time">08:00:02</span>
              <span class="log-tag">[CONFIG]</span>
              <span class="log-msg">Loading brand voice profile... <span class="green">‚úì</span></span>
            </div>
            <div class="log-line" id="ll2">
              <span class="log-time">08:00:03</span>
              <span class="log-tag">[CONFIG]</span>
              <span class="log-msg">Platforms: X/Twitter, LinkedIn, Newsletter, YouTube</span>
            </div>
            <div class="log-line" id="ll3">
              <span class="log-time">08:00:04</span>
              <span class="log-tag">[SCRAPE]</span>
              <span class="log-msg yellow">Connecting to Reddit API... scanning r/productivity</span>
            </div>
            <div class="log-line" id="ll4">
              <span class="log-time">08:00:05</span>
              <span class="log-tag">[SCRAPE]</span>
              <span class="log-msg">Found 3 high-signal threads matching niche</span>
            </div>
            <div class="log-line" id="ll5">
              <span class="log-time">08:00:06</span>
              <span class="log-tag">[SELECT]</span>
              <span class="log-msg green">Selected angle: "Why I stopped using Notion" ‚Äî 4.1K upvotes</span>
            </div>
          </div>
        </div>

        <!-- Panel 1: Reddit -->
        <div class="sim-panel" id="sp1">
          <div class="reddit-sim">
            <div class="rsim-header">Reddit Trend Scanner ‚Äî r/productivity</div>
            <div class="rsim-card" id="rs0">
              <div class="rsim-votes">
                <div class="rsim-arrow">‚ñ≤</div>
                <div class="rsim-count">4.1K</div>
              </div>
              <div class="rsim-text">"Why I stopped using Notion and went back to plain text"</div>
              <div class="rsim-badge">SELECTED ‚≠ê</div>
            </div>
            <div class="rsim-card" id="rs1">
              <div class="rsim-votes">
                <div class="rsim-arrow">‚ñ≤</div>
                <div class="rsim-count">2.3K</div>
              </div>
              <div class="rsim-text">"Is the 4-day work week viable for solo operators?"</div>
              <div class="rsim-badge">SELECTED ‚≠ê</div>
            </div>
            <div class="rsim-card" id="rs2">
              <div class="rsim-votes">
                <div class="rsim-arrow">‚ñ≤</div>
                <div class="rsim-count">1.8K</div>
              </div>
              <div class="rsim-text">"I replaced my morning routine with one 15-minute review"</div>
              <div class="rsim-badge">SELECTED ‚≠ê</div>
            </div>
          </div>
        </div>

        <!-- Panel 2: Content Gen -->
        <div class="sim-panel" id="sp2">
          <div class="cgen-grid">
            <div class="cgen-card" id="cg0">
              <div class="cgen-head">
                <div class="cgen-blink" style="background:#1d9bf0"></div> X Thread
              </div>
              <div class="cgen-body" id="cb0"></div>
            </div>
            <div class="cgen-card" id="cg1">
              <div class="cgen-head">
                <div class="cgen-blink" style="background:var(--blue)"></div> Newsletter
              </div>
              <div class="cgen-body" id="cb1"></div>
            </div>
            <div class="cgen-card" id="cg2">
              <div class="cgen-head">
                <div class="cgen-blink" style="background:#0a66c2"></div> LinkedIn
              </div>
              <div class="cgen-body" id="cb2"></div>
            </div>
            <div class="cgen-card" id="cg3">
              <div class="cgen-head">
                <div class="cgen-blink" style="background:#ff0000"></div> YouTube
              </div>
              <div class="cgen-body" id="cb3"></div>
            </div>
          </div>
        </div>

        <!-- Panel 3: Delivery -->
        <div class="sim-panel" id="sp3">
          <div class="delivery-sim">
            <div class="delivery-log">
              <div class="dlog-header">WhatsApp Delivery</div>
              <div class="dlog-item" id="di0">
                <div class="dlog-icon">üì°</div>
                <div>
                  <div class="dlog-label">Connecting to WhatsApp API</div>
                  <div class="dlog-text">Session established ¬∑ +1 (555) 0142</div>
                </div>
              </div>
              <div class="dlog-item" id="di1">
                <div class="dlog-icon">üí¨</div>
                <div>
                  <div class="dlog-label">Composing message</div>
                  <div class="dlog-text">4 content pieces ¬∑ 357 words total</div>
                </div>
              </div>
              <div class="dlog-item" id="di2">
                <div class="dlog-icon">üì§</div>
                <div>
                  <div class="dlog-label">Message sent</div>
                  <div class="dlog-text">Delivered at 8:02am ¬∑ read receipt ‚úì‚úì</div>
                </div>
              </div>
            </div>
            <div class="mini-phone-wrap">
              <div class="mini-phone" id="mpMain">
                <div class="mp-status"><span>8:02</span><span>üîã</span></div>
                <div class="mp-header">
                  <div class="mp-avatar">C‚ú¶</div>
                  <div class="mp-name">Clawdraft ‚ú¶</div>
                </div>
                <div class="mp-chat">
                  <div class="mp-bubble" id="mpb1">Good morning Jordan üëã Your content is ready!</div>
                  <div class="mp-mini-cards" id="mpb2">
                    <div class="mp-mini-card">ùïè X Thread ‚Äî 5 tweets</div>
                    <div class="mp-mini-card">üìß Newsletter ‚Äî 357 words</div>
                    <div class="mp-mini-card">üíº LinkedIn post</div>
                    <div class="mp-mini-card">üé¨ YouTube hook</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Panel 4: Summary -->
        <div class="sim-panel" id="sp4">
          <div class="summary-panel">
            <div class="summary-icon" id="sumIcon">‚úì</div>
            <div class="summary-text" id="sumText">
              <div class="summary-title">Run complete</div>
              <div class="summary-sub">4 pieces generated ¬∑ delivered via WhatsApp at 8:02am<br>Jordan is ready to publish before the morning standup.</div>
            </div>
            <div class="summary-stats" id="sumStats">
              <div class="stat-chip"><strong>4</strong>pieces</div>
              <div class="stat-chip"><strong>0:62</strong>seconds</div>
              <div class="stat-chip"><strong>8:02</strong>delivered</div>
            </div>
          </div>
        </div>

      </div>

      <!-- Video progress bar -->
      <div class="video-bar">
        <div class="vb-time" id="vbTime">0:00</div>
        <div class="vb-track">
          <div class="vb-fill" id="vbFill"></div>
          <div class="vb-thumb" id="vbThumb"></div>
        </div>
        <div class="vb-dur">1:10</div>
      </div>

    </div>

    <!-- Cursor -->
    <div class="cursor" id="cursor" style="left:300px; top:120px">
      <svg width="20" height="24" viewBox="0 0 20 24">
        <polygon points="0,0 0,20 5,15 9,24 11,23 7,14 14,14" fill="white" stroke="black" stroke-width="1"/>
      </svg>
    </div>

  </div>

</div>

<script>
(function() {
  const TOTAL_MS = 70000; // 70s total
  let startTime = null;
  let rafId = null;
  let currentPhase = -1;
  let timeouts = [];

  function t(fn, delay) {
    timeouts.push(setTimeout(fn, delay));
  }

  function clearAll() {
    timeouts.forEach(clearTimeout);
    timeouts = [];
  }

  function typeInto(el, text, speed, cb) {
    let i = 0;
    el.textContent = '';
    function next() {
      if (i < text.length) {
        el.textContent += text[i++];
        const tid = setTimeout(next, speed + Math.random() * 15);
        timeouts.push(tid);
      } else if (cb) cb();
    }
    next();
  }

  // Panel switching
  function switchPanel(idx) {
    document.querySelectorAll('.sim-panel').forEach((p, i) => {
      p.classList.toggle('active', i === idx);
    });

    const navs = ['nav-dashboard','nav-reddit','nav-content','nav-delivery','nav-dashboard'];
    const titles = ['Dashboard','Reddit Trends','Content Generation','WhatsApp Delivery','Dashboard ‚Äî Run Complete'];
    document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
    const nav = document.getElementById(navs[idx]);
    if (nav) nav.classList.add('active');
    document.getElementById('topTitle').textContent = titles[idx] || 'Dashboard';
  }

  // Move cursor
  function moveCursor(x, y) {
    const c = document.getElementById('cursor');
    c.style.left = x + 'px';
    c.style.top = y + 'px';
  }

  // === PHASE 0: Dashboard (0-10s) ===
  function runPhase0() {
    switchPanel(0);
    // Show log lines
    ['ll0','ll1','ll2','ll3','ll4','ll5'].forEach((id, i) => {
      t(() => document.getElementById(id).classList.add('show'), i * 900 + 300);
    });
    // Cursor idles
    t(() => moveCursor(320, 200), 500);
    t(() => moveCursor(350, 240), 2000);
    t(() => moveCursor(340, 220), 4500);
  }

  // === PHASE 1: Reddit (10-25s) ===
  function runPhase1() {
    switchPanel(1);
    moveCursor(500, 100);

    ['rs0','rs1','rs2'].forEach((id, i) => {
      t(() => {
        document.getElementById(id).classList.add('appear');
        moveCursor(500 + i * 10, 180 + i * 80);
      }, i * 700 + 200);
    });

    t(() => {
      document.getElementById('rs0').classList.add('selected');
      moveCursor(540, 185);
    }, 3500);
  }

  // === PHASE 2: Content Gen (25-40s) ===
  const genTexts = [
    'I deleted every productivity app on my phone 6 months ago. My output went up 40%.\n\nHere\'s what I learned: üßµ',
    'Subject: The hidden productivity tax you\'re paying every day\n\nThere\'s a tax on your time that doesn\'t show up in your calendar...',
    'Hot take: The most productive people I know use the fewest tools.\n\nNot the most sophisticated stack...',
    '"The productivity software industry is a $96B business ‚Äî and it needs you to feel disorganized..."'
  ];

  function runPhase2() {
    switchPanel(2);
    moveCursor(450, 200);

    ['cg0','cg1','cg2','cg3'].forEach((id, i) => {
      t(() => {
        document.getElementById(id).classList.add('appear');
        typeInto(document.getElementById('cb' + i), genTexts[i], 22, () => {
          document.getElementById(id).classList.add('done');
        });
      }, i * 200);
    });
  }

  // === PHASE 3: Delivery (40-55s) ===
  function runPhase3() {
    switchPanel(3);
    moveCursor(260, 250);

    t(() => document.getElementById('di0').classList.add('appear'), 200);
    t(() => document.getElementById('di1').classList.add('appear'), 900);
    t(() => document.getElementById('di2').classList.add('appear'), 1800);
    t(() => {
      document.getElementById('mpMain').classList.add('appear');
      moveCursor(630, 180);
    }, 2200);
    t(() => document.getElementById('mpb1').classList.add('appear'), 2800);
    t(() => document.getElementById('mpb2').classList.add('appear'), 3400);
  }

  // === PHASE 4: Summary (55-70s) ===
  function runPhase4() {
    switchPanel(4);
    moveCursor(430, 260);

    t(() => document.getElementById('sumIcon').classList.add('appear'), 300);
    t(() => document.getElementById('sumText').classList.add('appear'), 700);
    t(() => document.getElementById('sumStats').classList.add('appear'), 1100);
  }

  // Reset all
  function resetAll() {
    // Log lines
    document.querySelectorAll('.log-line').forEach(el => el.classList.remove('show'));
    // Reddit cards
    ['rs0','rs1','rs2'].forEach(id => {
      document.getElementById(id).classList.remove('appear','selected');
    });
    // Gen cards
    ['cg0','cg1','cg2','cg3'].forEach((id,i) => {
      document.getElementById(id).classList.remove('appear','done');
      document.getElementById('cb'+i).textContent = '';
    });
    // Delivery
    ['di0','di1','di2'].forEach(id => document.getElementById(id).classList.remove('appear'));
    document.getElementById('mpMain').classList.remove('appear');
    document.getElementById('mpb1').classList.remove('appear');
    document.getElementById('mpb2').classList.remove('appear');
    // Summary
    document.getElementById('sumIcon').classList.remove('appear');
    document.getElementById('sumText').classList.remove('appear');
    document.getElementById('sumStats').classList.remove('appear');
  }

  // Timeline
  const phases = [
    { start: 0,    end: 10000,  run: runPhase0 },
    { start: 10000, end: 25000, run: runPhase1 },
    { start: 25000, end: 40000, run: runPhase2 },
    { start: 40000, end: 55000, run: runPhase3 },
    { start: 55000, end: 70000, run: runPhase4 },
  ];

  function formatTime(ms) {
    const s = Math.floor(ms / 1000);
    const m = Math.floor(s / 60);
    return m + ':' + String(s % 60).padStart(2, '0');
  }

  function tick(now) {
    if (!startTime) startTime = now;
    const elapsed = (now - startTime) % TOTAL_MS;

    // Progress bar
    const pct = (elapsed / TOTAL_MS) * 100;
    document.getElementById('vbFill').style.width = pct + '%';
    document.getElementById('vbTime').textContent = formatTime(elapsed);

    // Check phase
    let phase = -1;
    for (let i = 0; i < phases.length; i++) {
      if (elapsed >= phases[i].start && elapsed < phases[i].end) {
        phase = i; break;
      }
    }

    if (phase !== currentPhase) {
      clearAll();
      currentPhase = phase;

      // Reset on loop (phase 0 after end)
      if (phase === 0 && elapsed < 1000) resetAll();

      if (phase >= 0) phases[phase].run();
    }

    rafId = requestAnimationFrame(tick);
  }

  // Start
  requestAnimationFrame(tick);
})();
</script>
</body>
</html>
